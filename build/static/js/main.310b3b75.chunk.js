(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{40:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),r=n.n(s),o=n(33),c=n.n(o),i=(n(40),n(3)),u=n.n(i),d=n(8),b=n(11),h=n(12),l=n(5),j=n(14),p=n(13),m=(n(42),n(6)),f=n(2),g=(n(43),r.a.createContext(!1)),O=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={homeText:""},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)(g.Consumer,{children:function(t){return"true"===t.user_is_logged?Object(a.jsx)("div",{className:"home-page-div",children:Object(a.jsxs)("h1",{children:["Welcome back, ",t.which_user_is]})}):Object(a.jsx)("div",{className:"home-page-div",children:Object(a.jsxs)("h1",{children:[e.state.homeText,"Welcome to Desk Code, a place when you can run Python code. You just have to signup!"]})})}})}}]),n}(s.Component),v=n(18),x=(n(44),n(21)),_=n.n(x).a.create({baseURL:"http://127.0.0.1:5000"}),w=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).submitData=Object(d.a)(u.a.mark((function e(){var t,n,s,r,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.username,s=t.email,r=t.password,o={username:n,email:s,password:r},e.next=4,_.post("/signup",o);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),a.transitioForm=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({form_state:"transition"}),e.next=3,a.submitData();case 3:"true"===(t=e.sent).data.response&&a.setState({form_state:"done"}),"false"===t.data.response&&a.setState({form_state:"wrong",reasonWhyRejected:t.data.reason});case 6:case"end":return e.stop()}}),e)}))),a.onSubmitForm=function(e){e.preventDefault(),a.transitioForm()},a.turnItBack=function(e){e.preventDefault(),a.setState({form_state:"default"})},a.state={form_state:"default",signup_ready:!1,username:"",email:"",password:"",reasonWhyRejected:""},a.onSubmitForm=a.onSubmitForm.bind(Object(l.a)(a)),a.onChangeInput=a.onChangeInput.bind(Object(l.a)(a)),a.submitData=a.submitData.bind(Object(l.a)(a)),a}return Object(h.a)(n,[{key:"onChangeInput",value:function(e){var t=e.target.value,n=e.target.name;this.setState(Object(v.a)({},n,t))}},{key:"render",value:function(){var e=void 0,t=void 0;switch(this.state.form_state){case"transition":e="Processing...";break;case"done":e="Done!";break;case"wrong":e=this.state.reasonWhyRejected,t="Back";break;default:e="Something goes wrong, try again...",t="Back"}return Object(a.jsxs)("form",{className:"signup-main",onSubmit:this.onSubmitForm,children:[Object(a.jsxs)("div",{id:"transition-div","data-transition":this.state.form_state,children:[Object(a.jsx)("h3",{id:"transition-h3","data-h3-state":this.state.form_state,children:e}),Object(a.jsx)("button",{onClick:this.turnItBack,id:"transition-btn","data-btn-state":this.state.form_state,children:t}),Object(a.jsx)(m.b,{to:"login",id:"transition-link","data-link-state":this.state.form_state,children:"Go to login"})]}),Object(a.jsx)("h4",{children:"Sign up"}),Object(a.jsx)("input",{onChange:this.onChangeInput,value:this.state.username,type:"text",name:"username",placeholder:"username"}),Object(a.jsx)("input",{onChange:this.onChangeInput,value:this.state.email,type:"email",name:"email",placeholder:"email"}),Object(a.jsx)("input",{onChange:this.onChangeInput,value:this.state.password,type:"password",name:"password",placeholder:"password"}),Object(a.jsx)("button",{type:"submit",name:"submit",children:"Sign up"}),Object(a.jsxs)("p",{children:["Already have an account?",Object(a.jsx)(m.b,{to:"login",children:" Login"})]})]})}}]),n}(s.Component),k=(n(67),n(68),n.p+"static/media/logo.bbc2b5a6.png");var C=function(e){var t="",n="",s="",r="";return"true"===e.user_is_logged&&(s="false",n="true",r="false",t="true"),"false"===e.user_is_logged&&(s="true",n="false",r="true",t="false"),Object(a.jsxs)("div",{className:"header",children:[Object(a.jsxs)(m.b,{to:"/","data-status":"true",children:[" ",Object(a.jsx)("img",{src:k})," "]}),Object(a.jsx)(m.b,{to:"codedesk","data-status":t,children:"Code Desk"}),Object(a.jsx)(m.b,{to:"login","data-status":s,children:"Login"}),Object(a.jsx)(m.b,{to:"signup","data-status":r,children:"Sign up"}),Object(a.jsx)(m.b,{to:"logout","data-status":n,children:"Logout"})]})},y=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){return Object(b.a)(this,n),t.call(this,e)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)(g.Consumer,{children:function(e){return Object(a.jsx)(C,{user_is_logged:e.user_is_logged})}})}}]),n}(s.Component),S=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).submitData=Object(d.a)(u.a.mark((function e(){var t,n,s,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.username,s=t.password,r={username:n,password:s},e.next=4,_.post("/login",r);case 4:"true"===(o=e.sent).data.response?a.setState({form_state:"good"}):a.setState({form_state:"bad",reasonWhyRejected:o.data.reason});case 6:case"end":return e.stop()}}),e)}))),a.transition=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({form_state:"transition"}),a.submitData();case 2:case"end":return e.stop()}}),e)}))),a.state={form_state:"default",username:"",password:"",reasonWhyRejected:""},a.onSubmit=a.onSubmit.bind(Object(l.a)(a)),a.submitData=a.submitData.bind(Object(l.a)(a)),a.transition=a.transition.bind(Object(l.a)(a)),a.bringDefaut=a.bringDefaut.bind(Object(l.a)(a)),a.onChangeInput=a.onChangeInput.bind(Object(l.a)(a)),a}return Object(h.a)(n,[{key:"onChangeInput",value:function(e){e.preventDefault();var t=e.target.value,n=e.target.name;this.setState(Object(v.a)({},n,t))}},{key:"onSubmit",value:function(e){e.preventDefault(),this.transition()}},{key:"bringDefaut",value:function(e){e.preventDefault(),this.setState({form_state:"default"})}},{key:"render",value:function(){var e="";switch(this.state.form_state){case"transition":e="Processing...";break;case"good":return e="You are now logged! Redirecting...",Object(a.jsx)(g.Consumer,{children:function(e){return Object(a.jsxs)(f.a,{to:"/",children:[" ",e.is_loggedf()," "]})}});case"bad":e=this.state.reasonWhyRejected;break;default:console.log("I know his name")}return console.log(this.state.form_state),Object(a.jsxs)("form",{onSubmit:this.onSubmit,className:"login-div",children:[Object(a.jsxs)("div",{"data-state":this.state.form_state,className:"transition-div",children:[Object(a.jsx)("h4",{children:e}),Object(a.jsx)("button",{onClick:this.bringDefaut,children:"Back"})]}),Object(a.jsx)("h4",{children:"Login"}),Object(a.jsx)("input",{onChange:this.onChangeInput,value:this.state.username,type:"text",name:"username",placeholder:"username"}),Object(a.jsx)("input",{onChange:this.onChangeInput,value:this.state.password,type:"password",name:"password",placeholder:"password"}),Object(a.jsx)("button",{type:"submit",name:"submit",children:"Login"}),Object(a.jsxs)("p",{children:["Dont have an account?",Object(a.jsx)(m.b,{to:"signup",children:" Sign up"})]})]})}}]),n}(s.Component),D=(n(69),function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).sendData=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={code:a.state.code_value},e.next=3,_.post("runcode",t);case 3:n=e.sent,a.setState({output_value:n.data.response});case 5:case"end":return e.stop()}}),e)}))),a.state={code_value:"",output_value:""},a.onChange=a.onChange.bind(Object(l.a)(a)),a.onRun=a.onRun.bind(Object(l.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){e.preventDefault(),this.setState({code_value:e.target.value})}},{key:"onRun",value:function(e){e.preventDefault(),this.sendData()}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"desk-div",children:[Object(a.jsx)("textarea",{onChange:this.onChange,className:"textarea-input",name:"input",value:this.state.code_value}),Object(a.jsx)("button",{onClick:this.onRun,name:"",children:"Run"}),Object(a.jsx)("textarea",{className:"textarea-output",name:"output",value:this.state.output_value})]})}}]),n}(s.Component));var I=function(e){return Object(a.jsx)(g.Consumer,{children:function(e){return function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("logout");case 2:e.sent,t.is_loggedf();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(e),Object(a.jsx)(f.a,{to:"/"})}})};n(70);var R=function(e){return Object(a.jsx)("div",{className:"footer",children:Object(a.jsx)("p",{children:" \xa9 2020 copyright Daniel Henrique.  "})})},N=function(){return Object(a.jsxs)(m.a,{children:[Object(a.jsx)(y,{}),Object(a.jsxs)(f.d,{children:[Object(a.jsx)(f.b,{exact:!0,path:"/",component:O}),Object(a.jsx)(f.b,{path:"/signup",component:w}),Object(a.jsx)(f.b,{path:"/login",component:S}),Object(a.jsx)(f.b,{path:"/codedesk",component:D}),Object(a.jsx)(f.b,{path:"/logout",component:I})]})]})},W=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).is_loggedf=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("is_logged");case 2:t=e.sent,a.setState({user_is_logged:t.data.response});case 4:case"end":return e.stop()}}),e)}))),a.which_user=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("which_user");case 2:t=e.sent,a.setState({which_user_is:t.data.response});case 4:case"end":return e.stop()}}),e)}))),a.state={user_is_logged:"",which_user_is:"",is_loggedf:a.is_loggedf},a.is_loggedf=a.is_loggedf.bind(Object(l.a)(a)),a.which_user=a.which_user.bind(Object(l.a)(a)),a.is_loggedf(),a.which_user(),a}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"app",children:Object(a.jsxs)(g.Provider,{value:this.state,children:[Object(a.jsx)(N,{}),Object(a.jsx)(R,{})]})})}}]),n}(s.Component);c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(W,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.310b3b75.chunk.js.map